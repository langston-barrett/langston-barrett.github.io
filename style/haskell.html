<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-08-31 Wed 16:01 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Haskell Style Guide</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
</style>
<link rel="stylesheet" type="text/css" href="static/mine.css" />
<link rel="stylesheet" type="text/css" href="../static/mine.css" />
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="/index.html"> UP </a>
 |
 <a accesskey="H" href="/index.html"> HOME </a>
</div><div id="content" class="content">
<h1 class="title">Haskell Style Guide</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org0e45ead">Haskell Style Guide</a>
<ul>
<li><a href="#org9eaf00c">Strongly Recommended</a></li>
<li><a href="#orgf664bd8">Recommended</a>
<ul>
<li><a href="#org42ed6dc">Create Abstract Newtypes</a></li>
<li><a href="#orgcd91120">Write Explicit Export Lists</a></li>
<li><a href="#org4d99019">Use <code>toInteger</code></a></li>
</ul>
</li>
<li><a href="#org5cf41f9">Nice to Have</a>
<ul>
<li><a href="#org4862066">Minimal Polymorphism</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org0e45ead" class="outline-2">
<h2 id="org0e45ead">Haskell Style Guide</h2>
<div class="outline-text-2" id="text-org0e45ead">
<p>
This is my personal style guide for writing Haskell code. As with all style
guides, this guide is incomplete, fallible, and its recommendations aren't
appropriate for every circumstance.
</p>

<p>
I've only recently started writing this, so it's obviously particularly
incomplete. Hopefully, it will grow as I learn and think more!
</p>

<p>
This guide is focused only on recommendations that <i>aren't</i> universal across
programming languages, for such recommendations see my <a href="programming.html#orgcf229b4">Programming Style Guide</a>.
Additionally, I don't currently publish any recommendations that concern
third-party libraries.
</p>

<p>
Its intended audience is intermediate or advanced Haskell programmers who
endeavor especially to write reliable, correct code. In particular, I'm often
willing to err on the side of reliability over "simple" code, e.g., by using
GADTs. But to be honest, I mostly publish this so I have somewhere with thorough
explanations that I can point people to when I make comments during code
reviews.
</p>

<p>
The recommendations in this guide are split into three levels, based on the
author's perception of their relative importance and applicability:
</p>

<ul class="org-ul">
<li><a href="#org9eaf00c">Strongly Recommended</a>: These recommendations are broadly applicable and have a
high value-to-weight ratio.</li>
<li><a href="#orgf664bd8">Recommended</a>: These recommendations may apply less universally, or be less
than essential to a strong style guide.</li>
<li><a href="#org5cf41f9">Nice to Have</a>: These recommendations are nice but not essential.</li>
</ul>

<p>
This document aspires to confirm to <a href="./meta.html">my Meta Style Guide</a>.
</p>

<p>
Do you have ideas for this guide? <a href="../about.html">Contact me</a>!
</p>
</div>

<div id="outline-container-org9eaf00c" class="outline-3">
<h3 id="org9eaf00c">Strongly Recommended</h3>
</div>
<div id="outline-container-orgf664bd8" class="outline-3">
<h3 id="orgf664bd8">Recommended</h3>
<div class="outline-text-3" id="text-orgf664bd8">
</div>
<div id="outline-container-org42ed6dc" class="outline-4">
<h4 id="org42ed6dc">Create Abstract Newtypes</h4>
<div class="outline-text-4" id="text-org42ed6dc">
<p>
Create many newtypes and hide their constructors. Where applicable, use the
"smart constructor pattern".
</p>
</div>

<ul class="org-ul">
<li><a id="org9dc4d4f"></a>Example<br />
<div class="outline-text-6" id="text-org9dc4d4f">
<p>
Instead of
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #3a81c3; font-weight: bold;">module</span> <span style="color: #ba2f59; font-weight: bold;">Main</span> <span style="color: #3a81c3; font-weight: bold;">where</span>

<span style="color: #6c3163; font-weight: bold;">createUser</span> <span style="color: #715ab1;">::</span>
  <span style="color: #da8b55;">-- | First name of user. Must not contain whitespace.</span>
  <span style="color: #ba2f59; font-weight: bold;">Text</span> <span style="color: #715ab1;">-&gt;</span>
  <span style="color: #ba2f59; font-weight: bold;">Maybe</span> <span style="color: #ba2f59; font-weight: bold;">User</span>
<span style="color: #6c3163; font-weight: bold;">createUser</span> nm <span style="color: #715ab1;">=</span>
  <span style="color: #3a81c3; font-weight: bold;">if</span> textHasWhitespace nm
  <span style="color: #3a81c3; font-weight: bold;">then</span> <span style="color: #ba2f59; font-weight: bold;">Nothing</span>
  <span style="color: #3a81c3; font-weight: bold;">else</span> <span style="color: #ba2f59; font-weight: bold;">Just</span> <span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">User</span> nm<span style="color: #3a81c3;">)</span>
</pre>
</div>
<p>
write
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #3a81c3; font-weight: bold;">module</span> <span style="color: #ba2f59; font-weight: bold;">FirstName</span> <span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">FirstName</span>, makeFirstName, getFirstName<span style="color: #3a81c3;">)</span> <span style="color: #3a81c3; font-weight: bold;">where</span>

<span style="color: #da8b55;">-- | First name, e.g., of a user.</span>
<span style="color: #da8b55;">--</span>
<span style="color: #da8b55;">-- Invariant: Does not contain whitespace. Constructor not exported to preserve</span>
<span style="color: #da8b55;">-- invariant.</span>
<span style="color: #3a81c3; font-weight: bold;">newtype</span> <span style="color: #ba2f59; font-weight: bold;">FirstName</span> <span style="color: #715ab1;">=</span> <span style="color: #ba2f59; font-weight: bold;">FirstName</span> <span style="color: #3a81c3;">{</span> _getFirstName <span style="color: #715ab1;">::</span> <span style="color: #ba2f59; font-weight: bold;">Text</span> <span style="color: #3a81c3;">}</span>
  <span style="color: #3a81c3; font-weight: bold;">deriving</span> <span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">Eq</span>, <span style="color: #ba2f59; font-weight: bold;">Ord</span><span style="color: #3a81c3;">)</span>

<span style="color: #6c3163; font-weight: bold;">makeFirstName</span> <span style="color: #715ab1;">::</span> <span style="color: #ba2f59; font-weight: bold;">Text</span> <span style="color: #715ab1;">-&gt;</span> <span style="color: #ba2f59; font-weight: bold;">Maybe</span> <span style="color: #ba2f59; font-weight: bold;">FirstName</span>
<span style="color: #6c3163; font-weight: bold;">makeFirstName</span> nm <span style="color: #715ab1;">=</span>
  <span style="color: #3a81c3; font-weight: bold;">if</span> textHasWhitespace nm
  <span style="color: #3a81c3; font-weight: bold;">then</span> <span style="color: #ba2f59; font-weight: bold;">Nothing</span>
  <span style="color: #3a81c3; font-weight: bold;">else</span> <span style="color: #ba2f59; font-weight: bold;">Just</span> <span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">FirstName</span> nm<span style="color: #3a81c3;">)</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;">-- </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Note: don't export _getFirstName directly, as record selectors can break the</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">-- </span><span style="color: #2aa1ae; background-color: #ecf3ec;">abstraction barrier we're establishing by not exporting the constructor.</span>
<span style="color: #6c3163; font-weight: bold;">getFirstName</span> <span style="color: #715ab1;">::</span> <span style="color: #ba2f59; font-weight: bold;">FirstName</span> <span style="color: #715ab1;">-&gt;</span> <span style="color: #ba2f59; font-weight: bold;">Text</span>
<span style="color: #6c3163; font-weight: bold;">getFirstName</span> nm <span style="color: #715ab1;">=</span> _getFirstName
</pre>
</div>

<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #3a81c3; font-weight: bold;">module</span> <span style="color: #ba2f59; font-weight: bold;">Main</span> <span style="color: #3a81c3; font-weight: bold;">where</span>

<span style="color: #3a81c3; font-weight: bold;">import</span> <span style="color: #ba2f59; font-weight: bold;">FirstName</span> <span style="color: #3a81c3;">(</span><span style="color: #ba2f59; font-weight: bold;">FirstName</span><span style="color: #3a81c3;">)</span>

<span style="color: #6c3163; font-weight: bold;">createUser</span> <span style="color: #715ab1;">::</span>
  <span style="color: #da8b55;">-- | First name of user.</span>
  <span style="color: #ba2f59; font-weight: bold;">FirstName</span> <span style="color: #715ab1;">-&gt;</span>
  <span style="color: #ba2f59; font-weight: bold;">User</span>
<span style="color: #6c3163; font-weight: bold;">createUser</span> nm <span style="color: #715ab1;">=</span> <span style="color: #ba2f59; font-weight: bold;">User</span> nm  <span style="color: #2aa1ae; background-color: #ecf3ec;">-- </span><span style="color: #2aa1ae; background-color: #ecf3ec;">no need to check for whitespace!</span>
</pre>
</div>
</div>
</li>

<li><a id="org96a4a08"></a>Justification<br />
<div class="outline-text-6" id="text-org96a4a08">
<p>
A <code>newtype</code> provides semantic clarity&#x2014;the name often hints at what the
programmer intended to represent, rather than how they intended to represent it.
In the example above, the <code>FirstName</code> newtype essentially obviates the comment on
the parameter of <code>createUser</code>&#x2014;it's already clear from the type what the
parameter represents.
</p>

<p>
A <code>newtype</code> with a hidden constructor and an exported "smart" constructor can
maintain data structure invariants. Because these invariants are local to the
module in which the newtype is defined, they're relatively easy to check. In the
example above, it's easy to see that it's impossible to construct a <code>FirstName</code>
containing whitespace outside of the module in which <code>FirstName</code> is defined. These
invariants can also help avoid unnecessary partiality in other parts of the
codebase, like how <code>createUser</code> no longer needs to check for whitespace, and so no
longer needs to return a <code>Maybe</code>.
</p>

<p>
The downside to this technique is the need to create additional modules and
documentation. This amount of effort may not be appropriate in all
circumstances.
</p>
</div>
</li>

<li><a id="org57fbef3"></a>See Also<br />
<div class="outline-text-6" id="text-org57fbef3">
<p>
<a href="https://haskell-at-work.com/episodes/2018-02-26-validation-with-smart-constructors.html">https://haskell-at-work.com/episodes/2018-02-26-validation-with-smart-constructors.html</a>
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgcd91120" class="outline-4">
<h4 id="orgcd91120">Write Explicit Export Lists</h4>
<div class="outline-text-4" id="text-orgcd91120">
<p>
Every module should have an explicit export list.
</p>
</div>

<ul class="org-ul">
<li><a id="org784ebb4"></a>Example<br />
<div class="outline-text-6" id="text-org784ebb4">
<p>
Instead of
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #3a81c3; font-weight: bold;">module</span> <span style="color: #ba2f59; font-weight: bold;">Foo</span> <span style="color: #3a81c3; font-weight: bold;">where</span>
</pre>
</div>
<p>
write
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #3a81c3; font-weight: bold;">module</span> <span style="color: #ba2f59; font-weight: bold;">Foo</span>
  <span style="color: #3a81c3;">(</span> <span style="color: #ba2f59; font-weight: bold;">Type1</span><span style="color: #6c3163;">(</span>field1<span style="color: #6c3163;">)</span>
  , function1
  <span style="color: #3a81c3;">)</span> <span style="color: #3a81c3; font-weight: bold;">where</span>
</pre>
</div>
</div>
</li>

<li><a id="orgc85688a"></a>Justification<br />
<div class="outline-text-6" id="text-orgc85688a">
<p>
Using an explicit export list, a module may choose to not export certain
functions. This leaves the module free to change their implementations or remove
them entirely, with no concern that other modules (possibly even in other
packages) might depend on them. Similarly, if a type's constructor is not
exported, the representation of that type may be freely changed.
</p>

<p>
A module with an explicit export list also has a clear API: it consists of the
functions and types that have been exported. This makes it easier to reuse the
functionality in the module.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org4d99019" class="outline-4">
<h4 id="org4d99019">Use <code>toInteger</code></h4>
<div class="outline-text-4" id="text-org4d99019">
<p>
Use <code>toInteger</code> instead of <code>fromIntegral</code> and <code>toEnum</code> when possible.
</p>
</div>

<ul class="org-ul">
<li><a id="org709f897"></a>Example<br />
<div class="outline-text-5" id="text-org709f897">
<p>
Instead of
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #6c3163; font-weight: bold;">fromIntegral</span> <span style="color: #3a81c3;">(</span><span style="color: #4e3163;">0</span> <span style="color: #715ab1;">::</span> <span style="color: #ba2f59; font-weight: bold;">Int</span><span style="color: #3a81c3;">)</span> <span style="color: #715ab1;">::</span> <span style="color: #ba2f59; font-weight: bold;">Integer</span>
</pre>
</div>
<p>
or
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #6c3163; font-weight: bold;">toEnum</span> <span style="color: #3a81c3;">(</span><span style="color: #4e3163;">0</span> <span style="color: #715ab1;">::</span> <span style="color: #ba2f59; font-weight: bold;">Int</span><span style="color: #3a81c3;">)</span> <span style="color: #715ab1;">::</span> <span style="color: #ba2f59; font-weight: bold;">Integer</span>
</pre>
</div>
<p>
write
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #6c3163; font-weight: bold;">toInteger</span> <span style="color: #3a81c3;">(</span><span style="color: #4e3163;">0</span> <span style="color: #715ab1;">::</span> <span style="color: #ba2f59; font-weight: bold;">Int</span><span style="color: #3a81c3;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org6a10479"></a>Justification<br />
<div class="outline-text-5" id="text-org6a10479">
<p>
<code>fromIntegral</code> and <code>toEnum</code> can throw exceptions:
</p>

<div class="org-src-container">
<pre class="src src-fundamental">ghci&gt; (fromIntegral :: Integer -&gt; Natural) (-1)
Exception: arithmetic underflow

ghci&gt; toEnum ((-1) :: Int) :: Natural
Exception: toEnum: unexpected negative Int

ghci&gt; (toEnum :: Int -&gt; Word) (-1)
Exception: Enum.toEnum{Word}: tag (-1) is outside of bounds (0,18446744073709551615)
</pre>
</div>

<p>
<code>fromIntegral</code> can also cause surprising over- and under-flow:
</p>

<div class="org-src-container">
<pre class="src src-fundamental">ghci&gt; (fromIntegral :: Integer -&gt; Word) (-1)
18446744073709551615
</pre>
</div>

<p>
Finally, it is generally more clear to use less-polymorphic functions.
</p>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-org5cf41f9" class="outline-3">
<h3 id="org5cf41f9">Nice to Have</h3>
<div class="outline-text-3" id="text-org5cf41f9">
</div>
<div id="outline-container-org4862066" class="outline-4">
<h4 id="org4862066">Minimal Polymorphism</h4>
<div class="outline-text-4" id="text-org4862066">
<p>
Use less-polymorphic variants of functions where possible.
</p>
</div>

<ul class="org-ul">
<li><a id="orgf5518e1"></a>Example<br />
<div class="outline-text-5" id="text-orgf5518e1">
<p>
Instead of
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #6c3163; font-weight: bold;">fmap</span> <span style="color: #3a81c3;">(</span><span style="color: #715ab1;">+</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span> <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span>, <span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">3</span><span style="color: #3a81c3;">]</span>
</pre>
</div>
<p>
write
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #6c3163; font-weight: bold;">map</span> <span style="color: #3a81c3;">(</span><span style="color: #715ab1;">+</span><span style="color: #4e3163;">1</span><span style="color: #3a81c3;">)</span> <span style="color: #3a81c3;">[</span><span style="color: #4e3163;">1</span>, <span style="color: #4e3163;">2</span>, <span style="color: #4e3163;">3</span><span style="color: #3a81c3;">]</span>
</pre>
</div>
</div>
</li>

<li><a id="org0e95d03"></a>Justification<br />
<div class="outline-text-5" id="text-org0e95d03">
<p>
The use of a polymorphic function sends a signal to the reader that the
polymorphism was necessary. This is confusing when the polymorphism was, in
fact, unnecessary. Furthermore, a less polymorphic function provides more
information to the reader about the types of its arguments: in the expression
<code>fmap f x</code>, the type of <code>x</code> could be any <code>Functor</code>, whereas in <code>Data.Set.map f x</code>, <code>x</code>
must have type <code>Set a</code> for some <code>a</code>.
</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</body>
</html>
